(()=>{"use strict";const e=document.querySelector(".greeting"),t=document.querySelector(".name");function n(){!function(){const n=(new Date).getHours();switch(!0){case n>=6&&n<12:e.innerHTML="Доброе утро, ";break;case n>=12&&n<18:e.innerHTML="Добрый день, ";break;case n>=18&&n<=24:e.innerHTML="Добрый вечер, ";break;case n>=0&&n<6:e.innerHTML="Доброй ночи, ";break;default:e.innerHTML="Hello, "+t}}()}n(),window.addEventListener("beforeunload",(function(){localStorage.setItem("name",t.value)})),window.addEventListener("load",(function(){localStorage.getItem("name")&&(t.value=localStorage.getItem("name"))}));const o=n;function a(){const e=document.querySelector(".time"),t=(new Date).toLocaleTimeString();e.textContent=t,function(){const e=document.querySelector(".date"),t=(new Date).toLocaleDateString("ru-RU",{weekday:"long",month:"long",day:"numeric"});e.textContent=t}(),o(),setTimeout(a,1e3)}a();const r=a,c=document.querySelector(".weather-icon"),i=document.querySelector(".temperature"),s=document.querySelector(".weather-description"),u=document.querySelector(".wind"),d=document.querySelector(".humidity"),l=document.querySelector(".city");async function m(){const e=`https://api.openweathermap.org/data/2.5/weather?q=${l.value}&lang=ru&appid=4601ef613f0de43db445123145675eb9&units=metric`,t=await fetch(e),n=await t.json();""!==l.value?(c.className="weather-icon owf",c.classList.add(`owf-${n.weather[0].id}`),i.textContent=`Температура: ${Math.floor(n.main.temp)}°C`,s.textContent=n.weather[0].description,u.textContent=`Скорость ветра: ${Math.floor(n.wind.speed)} м/с`,d.textContent=`Влажность: ${Math.round(n.main.humidity)}%`):alert("Ошибка!!! Введите название города")}function y(e){"Enter"===e.code&&(m(),l.blur())}window.addEventListener("beforeunload",(function(){localStorage.setItem("city",l.value),m()})),window.addEventListener("load",(function(){localStorage.getItem("city")&&(l.value=localStorage.getItem("city"),m())})),document.addEventListener("DOMContentLoaded",m),l.addEventListener("keypress",y);const w=[{title:"Aqua Caelestis",src:"../assets/sounds/Aqua Caelestis.mp3",duration:"00:58"},{title:"Ennio Morricone",src:"../assets/sounds/Ennio Morricone.mp3",duration:"01:37"},{title:"River Flows In You",src:"../assets/sounds/River Flows In You.mp3",duration:"03:50"},{title:"Summer Wind",src:"../assets/sounds/Summer Wind.mp3",duration:"01:50"}],g=document.querySelector(".play"),f=document.querySelector(".play-prev"),S=document.querySelector(".play-next");let h=!1,p=0;const L=new Audio;function q(){L.src=w[p].src,L.currentTime=0,h?(L.pause(),h=!1,g.classList.toggle("pause")):(L.play(),h=!0,g.classList.toggle("pause"))}g.addEventListener("click",q),S.addEventListener("click",(function(){p++,p>w.length-1&&(p=0),q()})),f.addEventListener("click",(function(){p--,p<0&&(p=w.length-1),q()})),console.log(w),r(),l.addEventListener("keypress",y),g.addEventListener("click",q);const v=document.querySelector(".quote"),E=document.querySelector(".author"),M=document.querySelector(".change-quote");async function k(){const e=await fetch("data.json"),t=await e.json();let n=t[Math.floor(Math.random()*t.length)];v.textContent=n.text,E.textContent=n.author}k(),M.addEventListener("click",k),console.log("\n  Самооценка 57 баллов\n  Выполнена только часть задания:\n  1) Часы и календарь +15\n  2) Приветствие +10\n  3) Виджет погоды (проверка выполняется только на пустую строку) +12\n  4) Виджет цитата дня +10\n  5) Аудиоплеер (нет плейлиста, не реализовано - после окончания проигрывания первого трека, \n  не запускается автоматически проигрывание следующего) +9\n")})();